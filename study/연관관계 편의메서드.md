# ì—°ê´€ê´€ê³„ í¸ì˜ ë©”ì„œë“œ

ì—°ê´€ê´€ê³„ ë©”ì„œë“œëŠ” **ì—”í‹°í‹° ê°„ì˜ ì—°ê´€ê´€ê³„ë¥¼ í¸ë¦¬í•˜ê²Œ ì„¤ì •í•  ìˆ˜ ìˆë„ë¡ ë„ì™€ì£¼ëŠ” ë©”ì„œë“œ**ì´ë‹¤. ì‘ì„±í•˜ëŠ” ë°©ë²•ì— 
ëŒ€í•´ì„œ ì˜ ëª¨ë¥´ê¸°ì— ì •ë¦¬í•˜ë©° ì ìš©í•´ë³¸ë‹¤. ì§ì ‘ ì—°ê´€ ê´€ê³„ë¥¼ ì„¤ì •í•˜ëŠ” ì½”ë“œ ëŒ€ì‹ , ê°ì²´ì˜ ì¼ê´€ì„±ì„
ìœ ì§€í•˜ë©´ì„œ ì—°ê´€ ê´€ê³„ë¥¼ ê´€ë¦¬í•  ìˆ˜ ìˆë„ë¡ ë©”ì„œë“œë¥¼ ë§Œë“¤ì–´ ë‘ë©´ ì½”ë“œì˜ ê°€ë…ì„±ì´ ì¢‹ì•„ì§€ê³  ìœ ì§€ë³´ìˆ˜ê°€ ì‰¬ì›Œì§„ë‹¤.

## ğŸ“Œ ì—°ê´€ ê´€ê³„ ë©”ì„œë“œê°€ í•„ìš”í•œ ì´ìœ 
1. ê°ì²´ ì§€í–¥ì ì¸ ì½”ë“œ ìœ ì§€
   - ì—°ê´€ê´€ê³„ë¥¼ ì„¤ì •í•  ë•Œ, ì–‘ë°©í–¥ ê´€ê³„ë¥¼ ê´€ë¦¬í•´ì•¼ í•  ê²½ìš°ê°€ ë§ìŒ.
   - ë‹¨ìˆœíˆ í•„ë“œë§Œ ì„¤ì •í•˜ë©´ í•œìª½ ë°©í–¥ë§Œ ì—°ê²°ë˜ê¸° ë•Œë¬¸ì— **ë°˜ëŒ€ìª½ë„ í•¨ê»˜ ì„¤ì •í•˜ëŠ” ì½”ë“œê°€ í•„ìš”í•¨**.
2. ì¼ê´€ì„± ìœ ì§€
    - ì—°ê´€ê´€ê³„ë¥¼ ë³€ê²½í•  ë•Œ í•œìª½ë§Œ ìˆ˜ì •í•˜ë©´ ë°ì´í„° ë¶ˆì¼ì¹˜ê°€ ë°œìƒí•  ìˆ˜ ìˆìŒ
    - ì—°ê´€ê´€ê³„ ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ë©´ ì‹¤ìˆ˜ë¥¼ ë°©ì§€í•  ìˆ˜ ìˆìŒ

## âœ… ì—°ê´€ê´€ê³„ ë©”ì„œë“œ ì˜ˆì œ
### 1. Member â†” Order ê´€ê³„ (ì–‘ë°©í–¥ ê´€ê³„)
**ğŸ‘€ ì—°ê´€ê´€ê³„ ë©”ì„œë“œ ì—†ì´ ì„¤ì •í•˜ë©´?**
```java
Member member = new Member();
Order order = new Order();

// ê´€ê³„ ì„¤ì •
order.setMember(member);
member.getOrders().add(order);
```

- ì´ë ‡ê²Œ í•˜ë©´ ì–‘ìª½ ê°ì²´ ë‹¤ ê´€ê³„ë¥¼ ì„¤ì •í•´ì¤˜ì•¼ í•´ì„œ ì‹¤ìˆ˜í•  ê°€ëŠ¥ì„±ì´ ë†’ì•„ì§.

â•**ì—°ê´€ê´€ê³„ ë©”ì„œë“œë¥¼ ì¶”ê°€í•˜ë©´?**
```java
@Entity 
public class Member {
    
    @OneToMany(mappedBy = "member")
    private List<Order> orders = new ArrayList<>();
    
    // í¸ì˜ ë©”ì„œë“œ
    public void addOrder(Order order) {
        this.orders.add(order);
        order.setMember(this);
    }
}

@Entity
public class Order {
    
    @ManyToOne(fetch= FetchType.LAZY)
    @JoinColumn(name = "member_id")
    private Member member;
    
    // í¸ì˜ ë©”ì„œë“œ
    public void setMember(Member member) {
        this.member = member;
        member.getOrders().add(this);
    }
}

Member member = new Member();
Order order = new Order();

member.addOrder(order);
```
- `addOrder(order)` í•˜ë‚˜ë§Œ í˜¸ì¶œí•˜ë©´ `order.setMember(this)` ìë™ìœ¼ë¡œ ì‹¤í–‰.
- ì–‘ë°©í–¥ ì—°ê´€ê´€ê³„ë¥¼ í•œ ë²ˆì— ì„¤ì •í•  ìˆ˜ ìˆì–´ì„œ ì‹¤ìˆ˜ë¥¼ ë°©ì§€í•  ìˆ˜ ìˆìŒ

### 2. Order â†” OrderItem ê´€ê³„ (ì–‘ë°©í–¥ ê´€ê³„)
**ğŸ‘€ ì—°ê´€ê´€ê³„ ë©”ì„œë“œ ì—†ì´ ì„¤ì •í•˜ë©´?**
```java
Order order = new Order();
OrderItem orderItem = new OrderItem();

// ê´€ê³„ ì„¤ì •
orderItem.setOrder(order);
order.getOrderItems().add(orderItem);
```
- ì–‘ìª½ ëª¨ë‘ ì„¤ì •í•´ì•¼ í•´ì„œ ì‹¤ìˆ˜í•  ê°€ëŠ¥ì„±ì´ ìˆìŒ

â•**ì—°ê´€ê´€ê³„ ë©”ì„œë“œë¥¼ ì¶”ê°€í•˜ë©´?**
```java
@Entity
public class Order { 
    
    @OneToMany(mappedBy = "order", cascade = CascadeType.ALL)
    private List<OrderItem> orderItems = new ArrayList<>();
   
   public void addOrderItem(OrderItem orderItem) {
        orderItems.add(orderItem);
        orderItem.setOrder(this);
   }
}

@Entity
public class OrderItem {
    
    @ManyToOne(fetch = FetchType.LAZY)
    @JoinColumn(name = "order_id")
    private Order order;
   
   public void setOrder(Order order) {
       this.order = order;
       order.getOrderItems().add(this);
   }
}
```

## ğŸ›  ì—°ê´€ê´€ê³„ ë©”ì„œë“œ ì‘ì„± ì‹œ ì£¼ì˜í•  ì 
1. ë¬´í•œ ë£¨í”„ ë°©ì§€
   - ì–‘ë°©í–¥ ê´€ê³„ì—ì„œ ì–‘ìª½ì—ì„œ `add()` ë˜ëŠ” `set()` ì„ í•˜ë©´ ë¬´í•œë£¨í”„ê°€ ë°œìƒí•  ìˆ˜ ìˆìŒ
   - `order.addOrderItem(orderItem);` ì´ ì‹¤í–‰ë˜ë©´ `orderItem.setOrder(order);` ê°€ í˜¸ì¶œëœ
   - ê·¸ëŸ°ë° `setOrder()` ë‚´ë¶€ì—ì„œ ë‹¤ì‹œ `order.getOrderItems().add(this)` í•˜ë©´ ë¬´í•œ ë°˜ë³µë¨
   - í•´ê²°ë°©ë²• : `setOrder()` ë‚´ë¶€ì—ì„œ `order.getOrderItems().contains(this)` ì²´í¬ í›„ ì¤‘ë³µ ì¶”ê°€ ë°©ì§€
2. ê°ì²´ ê·¸ë˜í”„ íƒìƒ‰ ì‹œ ì£¼ì˜
   - ì—°ê´€ê´€ê³„ ë©”ì„œë“œë¡œ ê°ì²´ë¥¼ ì—°ê²¨í•´ë„ ì§€ì—° ë¡œë”© ì„¤ì •ì´ ë˜ì–´ ìˆìœ¼ë©´ ì¦‰ì§€ ì ‘ê·¼ ì‹œ í”„ë¡ì‹œ ê°ì²´ê°€ ë°˜í™˜ë  ìˆ˜ ìˆìŒ

## ğŸ”¥ ê²°ë¡ 
- ì—°ê´€ê´€ê³„ ë©”ì„œë“œëŠ” í•„ìˆ˜ì ìœ¼ë¡œ ì‘ì„±í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.
- ì–‘ë°©í–¥ ì—°ê´€ê´€ê³„ë¥¼ ì„¤ì •í•˜ëŠ” ê²½ìš°, í•œìª½ì—ì„œë§Œ í˜¸ì¶œí•˜ë©´ ë‹¤ë¥¸ ìª½ë„ ìë™ìœ¼ë¡œ ì—°ê²°ë˜ë„ë¡ êµ¬í˜„í•˜ëŠ” ê²ƒì´ ì¤‘ìš”í•¨.
- ê°ì²´ ê°„ ê´€ê³„ë¥¼ ë” ì‰½ê²Œ ì„¤ì •í•˜ê³ , ì½”ë“œ ê°€ë…ì„±ê³¼ ìœ ì§€ ë³´ìˆ˜ë¥¼ í–¥ìƒì‹œí‚¬ ìˆ˜ ìˆìŒ